import bcrypt from 'bcryptjs';

const hashPassword = async (pw) => bcrypt.hash(pw, 10);

export async function up(queryInterface) {
  const now = new Date();
  const pw = await hashPassword('password123'); // pragma: allowlist secret

  await queryInterface.bulkInsert('users', [
    // Staff
    {
      email: 'officer@example.com',
      encrypted_password: pw,
      first_name: 'Bob',
      last_name: 'Smith',
      phone: '+15551002000',
      role: 1,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
    {
      email: 'underwriter@example.com',
      encrypted_password: pw,
      first_name: 'Carol',
      last_name: 'Williams',
      phone: '+15551003000',
      role: 2,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
    // Seed customers
    {
      email: 'tiffany.chen@example.com',
      encrypted_password: pw,
      first_name: 'Tiffany',
      last_name: 'Chen',
      phone: '+15551004000',
      role: 0,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
    {
      email: 'joseph.nguyen@example.com',
      encrypted_password: pw,
      first_name: 'Joseph',
      last_name: 'Nguyen',
      phone: '+15551005000',
      role: 0,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
    {
      email: 'hai.pham@example.com',
      encrypted_password: pw,
      first_name: 'Hai',
      last_name: 'Pham',
      phone: '+15551006000',
      role: 0,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
    {
      email: 'vivian.nguyen@example.com',
      encrypted_password: pw,
      first_name: 'Vivian',
      last_name: 'Nguyen',
      phone: '+15551007000',
      role: 0,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
    {
      email: 'jason.hart@example.com',
      encrypted_password: pw,
      first_name: 'Jason',
      last_name: 'Hart',
      phone: '+15551008000',
      role: 0,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
    // Real email customers
    {
      email: 'ltphongssvn@gmail.com',
      encrypted_password: pw,
      first_name: 'LT',
      last_name: 'Phong',
      phone: '+15551009000',
      role: 0,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
    {
      email: 'dijali@gmail.com',
      encrypted_password: pw,
      first_name: 'Dijali',
      last_name: 'User',
      phone: '+15551010000',
      role: 0,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
    {
      email: 'elena.bychenkova@gmail.com',
      encrypted_password: pw,
      first_name: 'Elena',
      last_name: 'Bychenkova',
      phone: '+15551011000',
      role: 0,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
    {
      email: 'tuladhar.shuveksha@gmail.com',
      encrypted_password: pw,
      first_name: 'Shuveksha',
      last_name: 'Tuladhar',
      phone: '+15551012000',
      role: 0,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
    {
      email: 'verafes@gmail.com',
      encrypted_password: pw,
      first_name: 'Vera',
      last_name: 'Fes',
      phone: '+15551013000',
      role: 0,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
    {
      email: 'gabhalley@gmail.com',
      encrypted_password: pw,
      first_name: 'Gab',
      last_name: 'Halley',
      phone: '+15551014000',
      role: 0,
      sign_in_count: 0,
      otp_required_for_login: false,
      created_at: now,
      updated_at: now,
    },
  ]);
}

export async function down(queryInterface) {
  await queryInterface.bulkDelete('users', null, {});
}
